{% extends 'base_bootstrap.html.twig' %}
{% block title %}Parteamer{% endblock %}
{% block main %}
<script src="js/notifications/toastr/toastr.js"></script>

<main id="js-page-content" role="main" class="page-content">
    {{ form_start(form, {'attr': {'class': 'needs-validation'}}) }} 
    {# <form class="needs-validation" novalidate method="POST" enctype="multipart/form-data"> #}
        <div class="row">
            <div class="col-xl-12">
                <div id="panel-1" class="panel">
                    <div class="panel-hdr">
                        <i class="fal fa-address-card fs-xl"></i>&nbsp;&nbsp;
                        <h2>
                            Résumé
                        </h2>
                        <div class="panel-toolbar">
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-collapse" data-toggle="tooltip" data-offset="0,10" data-original-title="Réduire"><i class="fal fa-window-minimize"></i></button>
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-fullscreen" data-toggle="tooltip" data-offset="0,10" data-original-title="Plein écran"><i class="fal fa-expand"></i></button>
                        </div>
                    </div>
                    <div class="row">
                        {% if success is same as('1') %}
							<script>
								$(document).ready(function()
								{
									var i = -1;
									var toastCount = 0;
									var $toastlast;

									var getMessageWithClearButton = function(msg)
									{
										msg = msg ? msg : 'Clear itself?';
										msg += '<br /><br /><button type="button" class="btn clear">Yes</button>';
										return msg;
									};

									let test = function notification() {

										let shortCutFunction = "success";
										let msg = "Vos informations ont bien été modifiées.";
										let title = '';
										let $showDuration = "300";
										let $hideDuration = "100";
										let $timeOut = "5000";
										let $extendedTimeOut = "5000";
										let $showEasing = "swing";
										let $hideEasing = "linear";
										let $showMethod = "fadeIn";
										let $hideMethod = "fadeOut";
										let toastIndex = toastCount++;
										let addClear = false;

										toastr.options = {
											closeButton: false,
											debug: false,
											newestOnTop: true,
											progressBar: true,
											rtl: false,
											positionClass: "toast-top-right",
											preventDuplicates: true,
											onclick: null
										};

										if ($('#addBehaviorOnToastClick').prop('checked'))
										{
											toastr.options.onclick = function()
											{
												alert('You can perform some custom action after a toast goes away');
											};
										}

										if ($('#addBehaviorOnToastCloseClick').prop('checked'))
										{
											toastr.options.onCloseClick = function()
											{
												alert('You can perform some custom action when the close button is clicked');
											};
										}

										if ($showDuration.length)
										{
											toastr.options.showDuration = parseInt($showDuration);
										}

										if ($hideDuration.length)
										{
											toastr.options.hideDuration = parseInt($hideDuration);
										}

										if ($timeOut.length)
										{
											toastr.options.timeOut = addClear ? 0 : parseInt($timeOut);
										}

										if ($extendedTimeOut.length)
										{
											toastr.options.extendedTimeOut = addClear ? 0 : parseInt($extendedTimeOut);
										}

										if ($showEasing.length)
										{
											toastr.options.showEasing = $showEasing;
										}

										if ($hideEasing.length)
										{
											toastr.options.hideEasing = $hideEasing;
										}

										if ($showMethod.length)
										{
											toastr.options.showMethod = $showMethod;
										}

										if ($hideMethod.length)
										{
											toastr.options.hideMethod = $hideMethod;
										}

										if (addClear)
										{
											msg = getMessageWithClearButton(msg);
											toastr.options.tapToDismiss = false;
										}
										if (!msg)
										{
											msg = getMessage();
										}

										$('#toastr-log').text('Command: toastr["' +
											shortCutFunction +
											'"]("' +
											msg +
											(title ? '", "' + title : '') +
											'")\n\ntoastr.options = ' +
											JSON.stringify(toastr.options, null, 2)
										);

										var $toast = toastr.success(msg, title); // Wire up an event handler to a button in the toast, if it exists
										$toastlast = $toast;

										if (typeof $toast === 'undefined')
										{
											return;
										}

										if ($toast.find('#okBtn').length)
										{
											$toast.delegate('#okBtn', 'click', function()
											{
												alert('you clicked me. i was toast #' + toastIndex + '. goodbye!');
												$toast.remove();
											});
										}
										if ($toast.find('#surpriseBtn').length)
										{
											$toast.delegate('#surpriseBtn', 'click', function()
											{
												alert('Surprise! you clicked me. i was toast #' + toastIndex + '. You could perform an action here.');
											});
										}
										if ($toast.find('.clear').length)
										{
											$toast.delegate('.clear', 'click', function()
											{
												toastr.clear($toast,
												{
													force: true
												});
											});
										}

									function getLastToast()
									{
										return $toastlast;
									}
									$('#clearlasttoast').click(function()
									{
										toastr.clear(getLastToast());
									});
									$('#cleartoasts').click(function()
									{
										toastr.clear();
									});

								}
								
														
								window.onload = test("succes");
								console.log('iefboub');

								});

							</script>
							{% elseif success is same as('0') %}
							<script>
								$(document).ready(function()
								{
									var i = -1;
									var toastCount = 0;
									var $toastlast;

									var getMessageWithClearButton = function(msg)
									{
										msg = msg ? msg : 'Clear itself?';
										msg += '<br /><br /><button type="button" class="btn clear">Yes</button>';
										return msg;
									};

									let test = function notification() {

										let shortCutFunction = "error";
										let msg = "Une erreur s'est produite.";
										let title = '';
										let $showDuration = "300";
										let $hideDuration = "100";
										let $timeOut = "0";
										let $extendedTimeOut = "1000";
										let $showEasing = "swing";
										let $hideEasing = "linear";
										let $showMethod = "fadeIn";
										let $hideMethod = "fadeOut";
										let toastIndex = toastCount++;
										let addClear = false;

										toastr.options = {
											closeButton: false,
											debug: false,
											newestOnTop: true,
											progressBar: true,
											rtl: false,
											positionClass: "toast-top-right",
											preventDuplicates: true,
											onclick: null
										};

										if ($('#addBehaviorOnToastClick').prop('checked'))
										{
											toastr.options.onclick = function()
											{
												alert('You can perform some custom action after a toast goes away');
											};
										}

										if ($('#addBehaviorOnToastCloseClick').prop('checked'))
										{
											toastr.options.onCloseClick = function()
											{
												alert('You can perform some custom action when the close button is clicked');
											};
										}

										if ($showDuration.length)
										{
											toastr.options.showDuration = parseInt($showDuration);
										}

										if ($hideDuration.length)
										{
											toastr.options.hideDuration = parseInt($hideDuration);
										}

										if ($timeOut.length)
										{
											toastr.options.timeOut = addClear ? 0 : parseInt($timeOut);
										}

										if ($extendedTimeOut.length)
										{
											toastr.options.extendedTimeOut = addClear ? 0 : parseInt($extendedTimeOut);
										}

										if ($showEasing.length)
										{
											toastr.options.showEasing = $showEasing;
										}

										if ($hideEasing.length)
										{
											toastr.options.hideEasing = $hideEasing;
										}

										if ($showMethod.length)
										{
											toastr.options.showMethod = $showMethod;
										}

										if ($hideMethod.length)
										{
											toastr.options.hideMethod = $hideMethod;
										}

										if (addClear)
										{
											msg = getMessageWithClearButton(msg);
											toastr.options.tapToDismiss = false;
										}
										if (!msg)
										{
											msg = getMessage();
										}

										$('#toastr-log').text('Command: toastr["' +
											shortCutFunction +
											'"]("' +
											msg +
											(title ? '", "' + title : '') +
											'")\n\ntoastr.options = ' +
											JSON.stringify(toastr.options, null, 2)
										);

										var $toast = toastr.error(msg, title); // Wire up an event handler to a button in the toast, if it exists
										$toastlast = $toast;

										if (typeof $toast === 'undefined')
										{
											return;
										}

										if ($toast.find('#okBtn').length)
										{
											$toast.delegate('#okBtn', 'click', function()
											{
												alert('you clicked me. i was toast #' + toastIndex + '. goodbye!');
												$toast.remove();
											});
										}
										if ($toast.find('#surpriseBtn').length)
										{
											$toast.delegate('#surpriseBtn', 'click', function()
											{
												alert('Surprise! you clicked me. i was toast #' + toastIndex + '. You could perform an action here.');
											});
										}
										if ($toast.find('.clear').length)
										{
											$toast.delegate('.clear', 'click', function()
											{
												toastr.clear($toast,
												{
													force: true
												});
											});
										}

									function getLastToast()
									{
										return $toastlast;
									}
									$('#clearlasttoast').click(function()
									{
										toastr.clear(getLastToast());
									});
									$('#cleartoasts').click(function()
									{
										toastr.clear();
									});

								}
								
														
								window.onload = test("succes");
								console.log('iefboub');

								});

							</script> 
							{% else %}
						{% endif %}
                    </div>
                    <div class="panel-container show">
                        <div class="panel-content">                         
                            <div class="row">
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-magic fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Résumé <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidateresume, 'Résumé', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Il s'agit du texte d'accroche qui doit attirer l'attention de votre interlocuteur. Il doit résumer en quelques mots vos différenciateurs et vos motivations.">
                                            {# <textarea class="form-control" rows="5" name="CandidateResume" id="CandidateResume" maxlength="500" placeholder="Résumé de votre profil (max 500 char.)" required></textarea> #}
                                            {{ form_widget(form.candidateresume, {'attr': {'class': 'form-control', 'rows': '5' ,'placeholder': 'Résumé de votre profil (max 500 char.)'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre résumé
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-tags fs-xl"></i>
                                        {# {# <label class="form-label fs-xl" for="input-group-lg-size">Mots-clefs</label>  #}
                                        {{ form_label(form.candidatetags, 'Mots-clefs', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg">
                                            {# {# <textarea class="form-control" rows="5" name="CandidateInfos" id="CandidateInfos" maxlength="500" placeholder="Mots clefs séparés par une virgule" data-toggle="tooltip" data-placement="auto" data-original-title="Saisissez ici des mots clefs ou expressions clefs. Ils permettent de faire ressortir plus facilement votre profil lors des recherches."></textarea> #}
                                            {{ form_widget(form.candidatetags, {'attr': {'class': 'form-control', 'rows': '5' ,'placeholder': 'Mots clefs séparés par une virgule'}}) }}
                                        </div>
                                    </div>
                                </div>
                            </div>


                            {# <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-target fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Missions souhaitées <span class="text-danger">*</span></label> #}
                                        {# {{ form_label(form.candidatetags, 'Tags', {'label_attr': {'class': 'form-label fs-xl'}}) }} #}
                                        {# <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Sélectionnez ici le(s) type(s) de mission que vous souhaitez réaliser."> #}
                                            {# <select class="select2 form-control w-100 js-select2-icons" name="CandidatePreferences[]" id="CandidatePreferences" multiple="multiple" required>
                                                <option value="Conseil" data-icon="fal fa-map">Conseil</option>
                                                <option value="Direction de projet"  data-icon="fal fa-tasks">Direction de projet</option>
                                                <option value="Temps partage" data-icon="fal fa-clock">Temps partage</option>
                                                <option value="Management de transition" data-icon="fal fa-fire">Management de transition</option>
                                            </select> #}
                                            {# {{ form_widget(form.candidatetags, {'attr': {'class': 'select2 form-control w-100 js-select2-icons js-tags'}}) }} #}
                                            {# <div class="invalid-feedback"> #}
                                                {# Merci de renseigner vos souhaits de mission #}
                                            {# </div> #}
                                        {# </div> #}
                                    {# </div> #}
                                {# </div> #}
                            {# </div> #}
                            
                            <div class="row">
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-star-half-alt fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Expérience <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidateexperience, 'Expérience', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Nombre d'années d'expériences professionnelles cumulées">
                                            {# <select class="form-control w-100" name="CandidateExperience" id="CandidateExperience" required>
                                                <option></option>
                                                <option{if $smarty.session.userinfo.CandidateExperience eq "< 15 ans"} selected{/if}>< 15 ans</option>
                                                <option{if $smarty.session.userinfo.CandidateExperience eq "15 - 20 ans"} selected{/if}>15 - 20 ans</option>
                                                <option{if $smarty.session.userinfo.CandidateExperience eq "20 - 25 ans"} selected{/if}>20 - 25 ans</option>
                                                <option{if $smarty.session.userinfo.CandidateExperience eq "> 25 ans"} selected{/if}>> 25 ans</option>
                                            </select> #}
                                            {{ form_widget(form.candidateexperience, {'attr': {'class': 'form-control w-100', 'placeholder': 'Mots clefs séparés par une virgule'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre expérience
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-award fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Expertise <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidatemetier, 'Métier', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Si vous avez plusieurs compétences, choisissez l'expertise qui vous correspond le mieux.">
                                            {# <select class="form-control w-100" name="CandidateFonction" id="CandidateFonction" required>
                                                <option></option>
                                                <optgroup label="IT">
                                                    <option>DSI</option>
                                                    <option>Directeur de Production</option>
                                                    <option>Directeur des Etudes</option>
                                                    <option>Directeur de projet MoE</option>
                                                    <option>Directeur de projet aMoA</option>
                                                </optgroup>
                                                <optgroup label="Finance">
                                                    <option>DSI</option>
                                                    <option>Directeur de Production</option>
                                                    <option>Directeur des Etudes</option>
                                                    <option>Directeur de projet MoE</option>
                                                    <option>Directeur de projet aMoA</option>
                                                </optgroup>
                                                <optgroup label="RH">
                                                    <option>DSI</option>
                                                    <option>Directeur de Production</option>
                                                    <option>Directeur des Etudes</option>
                                                    <option>Directeur de projet MoE</option>
                                                    <option>Directeur de projet aMoA</option>
                                                </optgroup>
                                                <optgroup label="Executive">
                                                    <option>DSI</option>
                                                    <option>Directeur de Production</option>
                                                    <option>Directeur des Etudes</option>
                                                    <option>Directeur de projet MoE</option>
                                                    <option>Directeur de projet aMoA</option>
                                                </optgroup>
                                            </select> #}
                                            {{ form_widget(form.candidatemetier, {'attr': {'class': 'form-control w-100'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre métier
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-graduation-cap fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Niveau d'études <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidatequalification, 'Niveau d\'études', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Niveau d'études">
                                            {# <select class="form-control w-100" name="CandidateQualification" id="CandidateQualification" required>
                                                <option></option>
                                                <option{if $smarty.session.userinfo.CandidateQualification eq "Bac"} selected{/if}>Bac</option>
                                                <option{if $smarty.session.userinfo.CandidateQualification eq "Bac+2"} selected{/if}>Bac+2</option>
                                                <option{if $smarty.session.userinfo.CandidateQualification eq "Bac+3"} selected{/if}>Bac+3</option>
                                                <option{if $smarty.session.userinfo.CandidateQualification eq "Bac+4"} selected{/if}>Bac+4</option>
                                                <option{if $smarty.session.userinfo.CandidateQualification eq "Bac+5"} selected{/if}>Bac+5</option>
                                            </select> #}
                                            {{ form_widget(form.candidatequalification, {'attr': {'class': 'form-control w-100'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre niveau d'études
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {# <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-euro fs-xl"></i>
                                        <label class="form-label fs-xl" for="input-group-lg-size">Forfait journalier <span class="text-danger">*</span></label>
                                        {{ form_label(form.candidatecjm, 'Forfait journalier', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg bg-white shadow-inset-2" data-toggle="tooltip" data-placement="auto" data-original-title="Il s'agit de votre montant forfaitaire par jour à plus ou moins 10%">
                                            <input id="CandidateCJM" name="CandidateCJM" type="text" value="" class="d-none" tabindex="-1" readonly="" required>
                                            {{ form_widget(form.candidatecjm, {'attr': {'class': 'd-none', 'tabindex': "-1", 'readonly': ""}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre TJM
                                            </div>
                                        </div>
                                    </div>
                                </div>  #}
                            <div class="col-lg">
								<div class="form-group p-md-2 p-2">
									<i class="fal fa-euro fs-xl"></i>
									<label class="form-label fs-xl" for="input-group-lg-size">Forfait journalier <span class="text-danger">*</span></label>
									<div data-toggle="tooltip" data-placement="auto" data-original-title="Il s'agit de votre montant forfaitaire par jour à plus ou moins 10%">
										{# <input id="CandidateCJM" name="CandidateCJM" type="text" value="300" class="d-none" tabindex="-1" readonly="" required> #}
                                        {{ form_widget(form.candidatecjm, {'attr': {'class': 'd-none CandidateCJM', 'tabindex': "-1", 'readonly': ""}}) }}
										<div class="invalid-feedback">
											Merci de renseigner votre TJM
										</div>
									</div>
								</div>
							</div>  
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        
        
        <div class="row">		
            {# <div class="col-sm-12 col-lg-6 col-xl-6">
                <div id="panel-1" class="panel">
                    <div class="panel-hdr">
                        <i class="fal fa-head-side-brain fs-xl"></i>&nbsp;&nbsp;
                        <h2>
                            Compétences
                        </h2>
                        <div class="panel-toolbar">
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-collapse" data-toggle="tooltip" data-offset="0,10" data-original-title="Réduire"><i class="fal fa-window-minimize"></i></button>
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-fullscreen" data-toggle="tooltip" data-offset="0,10" data-original-title="Plein écran"><i class="fal fa-expand"></i></button>
                        </div>
                    </div>
                
                    <div class="panel-container show">
                        <div class="panel-content">
                            <div class="row">
                                <div class="col-lg-8">
                                    Anglais
                                </div>
                                <div class="col-lg-4">
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-8">
                                    Management
                                </div>
                                <div class="col-lg-4">
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-8">
                                    Gestion de projet
                                </div>
                                <div class="col-lg-4">
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                    <i class="fal fa-star fs-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> #}
                    
            <div class="col-sm-12">
                <div id="panel-1" class="panel">
                    <div class="panel-hdr">
                        <i class="fal fa-cog fs-xl"></i>&nbsp;&nbsp;
                        <h2>
                            Préférences
                        </h2>
                        <div class="panel-toolbar">
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-collapse" data-toggle="tooltip" data-offset="0,10" data-original-title="Réduire"><i class="fal fa-window-minimize"></i></button>
                            <button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-fullscreen" data-toggle="tooltip" data-offset="0,10" data-original-title="Plein écran"><i class="fal fa-expand"></i></button>
                        </div>
                    </div>
                
                    <div class="panel-container show">
                        <div class="panel-content">
                            <div class="row">
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-cars fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Trajets quotidiens <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidatedaymove, 'Trajets quotidiens', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Temps de trajet maximum, quelque soit le moyen de transport, à partir de votre domicile.">
                                            {# <select class="form-control w-100" name="CandidateDayMove" id="CandidateDayMove" required>
                                                <option></option>
                                                <option{if $smarty.session.userinfo.CandidateDayMove eq "< 1h"} selected{/if}>< 1h</option>
                                                <option{if $smarty.session.userinfo.CandidateDayMove eq "1h à 1h30"} selected{/if}>1h à 1h30</option>
                                                <option{if $smarty.session.userinfo.CandidateDayMove eq "> 1h30"} selected{/if}>> 1h30</option>
                                            </select> #}
                                            {{ form_widget(form.candidatedaymove, {'attr': {'class': 'form-control w-100'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre temps de trajet maximum quotidien
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-bed fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Mobilité hebdomadaire <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidatewmobility, 'Mobilité hebdomadaire', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Nombre de nuit(s) maximum en déplacement par semaine.">
                                            {# <select class="form-control w-100" name="CandidateWMobility" id="CandidateWMobility" required>
                                                <option></option>
                                                <option{if $smarty.session.userinfo.CandidateWMobility eq "1 nuit"} selected{/if}>1 nuit</option>
                                                <option{if $smarty.session.userinfo.CandidateWMobility eq "2 nuits"} selected{/if}>2 nuits</option>
                                                <option{if $smarty.session.userinfo.CandidateWMobility eq "3 nuits"} selected{/if}>3 nuits</option>
                                                <option{if $smarty.session.userinfo.CandidateWMobility eq "4 nuits"} selected{/if}>4 nuits</option>
                                                <option{if $smarty.session.userinfo.CandidateWMobility eq "5 nuits"} selected{/if}>5 nuits</option>
                                            </select> #}
                                            {{ form_widget(form.candidatewmobility, {'attr': {'class': 'form-control w-100'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre mobilité hebdomadaire
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-cars fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Trajets hebdomadaires <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidateweekmove, 'Trajets hebdomadaires', {'label_attr': {'class': 'form-label fs-xl'}}) }}<span class="text-danger fs-xl">*</span>
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Temps de trajet maximum par semaine, quelque soit le moyen de transport, à partir de votre domicile.">
                                            {# <select class="form-control w-100" name="CandidateWeekMove" id="CandidateWeekMove" required>
                                                <option></option>
                                                <option{if $smarty.session.userinfo.CandidateWeekMove eq "< 2h"} selected{/if}>< 2h</option>
                                                <option{if $smarty.session.userinfo.CandidateWeekMove eq "2h à 4h"} selected{/if}>2h à 4h</option>
                                                <option{if $smarty.session.userinfo.CandidateWeekMove eq "> 4h"} selected{/if}>> 4h</option>
                                            </select> #}
                                            {{ form_widget(form.candidateweekmove, {'attr': {'class': 'form-control w-100'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner votre temps de trajet maximum hebdomadaire
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg">
                                    <div class="form-group p-md-2 p-2">
                                        <i class="fal fa-target fs-xl"></i>
                                        {# <label class="form-label fs-xl" for="input-group-lg-size">Missions souhaitées <span class="text-danger">*</span></label> #}
                                        {{ form_label(form.candidatepreferences, 'Missions souhaitées', {'label_attr': {'class': 'form-label fs-xl'}}) }}
                                        <div class="input-group input-group-lg" data-toggle="tooltip" data-placement="auto" data-original-title="Sélectionnez ici le(s) type(s) de mission que vous souhaitez réaliser.">
                                            
                                            {# <select class="select2 form-control w-100 js-select2-icons" name="CandidatePreferences[]" id="CandidatePreferences" multiple="multiple" required>
                                                <option value="Conseil" data-icon="fal fa-map">Conseil</option>
                                                <option value="Direction de projet"  data-icon="fal fa-tasks">Direction de projet</option>
                                                <option value="Temps partage" data-icon="fal fa-clock">Temps partage</option>
                                                <option value="Management de transition" data-icon="fal fa-fire">Management de transition</option>
                                            </select> #}
                                            {{ form_widget(form.candidatepreferences, {'attr': {'class': 'select2 form-control w-100 js-select2-icons'}}) }}
                                            <div class="invalid-feedback">
                                                Merci de renseigner vos souhaits de mission
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>           
        </div>
        <div class="row">
            <div class="col-xl-12">
                <div class="panel-content d-flex flex-row align-items-center">
                    <button class="btn btn-primary ml-auto" type="submit"><i class="fal fa-save fs-xl"></i>&nbsp;&nbsp;Enregistrer</button>
                </div>
            </div>
        </div>        
        <input type="hidden" name="page" value="{$page}" />
    {# </form> #}
    {{ form_end(form) }}
    
</main>

<script>
            $(document).ready(function()
            {

                $('input[type=radio][name=skinchange]').change(function()
                {
                    $('.irs').removeClassPrefix('irs--').addClass(this.value);
                });

                var ionskin = "flat";

                $(".CandidateCJM").ionRangeSlider({
                    min: 0,
                    max: 2000,
                    step: 50,
                    grid: true,
                    postfix: "€"
                });	

            });

        </script>
        <script>
            $(document).ready(function()
            {
                $(function()
                {
                    $('.select2').select2();

                    $(".select2-placeholder-multiple").select2(
                    {
                        placeholder: "Select State"
                    });
                    $(".js-hide-search").select2(
                    {
                        minimumResultsForSearch: 1 / 0
                    });
                    $(".js-max-length").select2(
                    {
                        maximumSelectionLength: 2,
                        placeholder: "Select maximum 2 items"
                    });
                    $(".select2-placeholder").select2(
                    {
                        placeholder: "Select a state",
                        allowClear: true
                    });

                    $(".js-select2-icons").select2(
                    {
                        minimumResultsForSearch: 1 / 0,
                        templateResult: icon,
                        templateSelection: icon,
                        escapeMarkup: function(elm)
                        {
                            return elm
                        }
                    });

                    $(".js-tags").select2({
                        tags: true,
                    });

                    function icon(elm)
                    {
                        elm.element;
                        return elm.id ? "<i class='" + $(elm.element).data("icon") + " mr-2'></i>" + elm.text : elm.text
                    }

                    $(".js-data-example-ajax").select2(
                    {
                        ajax:
                        {
                            url: "https://api.github.com/search/repositories",
                            dataType: 'json',
                            delay: 250,
                            data: function(params)
                            {
                                return {
                                    q: params.term, // search term
                                    page: params.page
                                };
                            },
                            processResults: function(data, params)
                            {
                                // parse the results into the format expected by Select2
                                // since we are using custom formatting functions we do not need to
                                // alter the remote JSON data, except to indicate that infinite
                                // scrolling can be used
                                params.page = params.page || 1;

                                return {
                                    results: data.items,
                                    pagination:
                                    {
                                        more: (params.page * 30) < data.total_count
                                    }
                                };
                            },
                            cache: true
                        },
                        placeholder: 'Search for a repository',
                        escapeMarkup: function(markup)
                        {
                            return markup;
                        }, // let our custom formatter work
                        minimumInputLength: 1,
                        templateResult: formatRepo,
                        templateSelection: formatRepoSelection
                    });

                    function formatRepo(repo)
                    {
                        if (repo.loading)
                        {
                            return repo.text;
                        }

                        var markup = "<div class='select2-result-repository clearfix d-flex'>" +
                            "<div class='select2-result-repository__avatar mr-2'><img src='" + repo.owner.avatar_url + "' class='width-2 height-2 mt-1 rounded' /></div>" +
                            "<div class='select2-result-repository__meta'>" +
                            "<div class='select2-result-repository__title fs-lg fw-500'>" + repo.full_name + "</div>";

                        if (repo.description)
                        {
                            markup += "<div class='select2-result-repository__description fs-xs opacity-80 mb-1'>" + repo.description + "</div>";
                        }

                        markup += "<div class='select2-result-repository__statistics d-flex fs-sm'>" +
                            "<div class='select2-result-repository__forks mr-2'><i class='fal fa-lightbulb'></i> " + repo.forks_count + " Forks</div>" +
                            "<div class='select2-result-repository__stargazers mr-2'><i class='fal fa-star'></i> " + repo.stargazers_count + " Stars</div>" +
                            "<div class='select2-result-repository__watchers mr-2'><i class='fal fa-eye'></i> " + repo.watchers_count + " Watchers</div>" +
                            "</div>" +
                            "</div></div>";

                        return markup;
                    }

                    function formatRepoSelection(repo)
                    {
                        return repo.full_name || repo.text;
                    }
                });
            });

        </script>

{% endblock %}